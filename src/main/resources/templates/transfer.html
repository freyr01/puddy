<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="general-style.css"/>
        <link rel="stylesheet" href="header-style.css"/>
        <link rel="stylesheet" href="transfer-style.css"/>
        <link rel="stylesheet" href="../static/general-style.css"/>
        <link rel="stylesheet" href="../static/header-style.css"/>
        <link rel="stylesheet" href="../static/transfer-style.css"/>
        <title>Transfer</title>
    </head>
    <body>
        <header th:insert="header :: header"></header>
        <div id="send_money">
            <div id="send_money_header">
                <span>Send Money</span>
                <input type="button" class="btn_submit bgcolor_blue" value="Add Connection" name="add_connection"/></div>
            <div id="send_money_content" class="bgcolor_grey">
                <form id="send_money_content_inputs" th:action="@{/transfer}" method="post">
                    <input list="connections" class="send_money_textinput" placeholder="Select a connection" name="connections"/>
                    <datalist id="connections">
                        <option th:each="user : ${contacts}" th:value="${user.email}"/>
                    </datalist>
                    <input type="number" class="send_money_textinput" placeholder="1€" min="1" name="amount"/>
                    <input type="text" class="send_money_textinput" placeholder="Description" name="description"/>
                    <input type="submit" class="btn_submit bgcolor_green" value="Pay"/>
                </form>
            </div>
        </div>
        <div id="transaction">
            <div id="transaction_header">
                <span>My Transactions</span>
            </div>
            <table id="transaction_table">
                <tr>
                    <th>Connections</th>
                    <th>Description</th>
                    <th>Amount</th>
                </tr>
                <tr th:each="transfer : ${transfers}">
                    <td th:utext="${transfer.recipient.firstName}"></td>
                    <td th:utext="${transfer.description}"></td>
                    <td th:utext="${transfer.amount}"></td>
                </tr>
                
            </table>
            <div id="page_selection">
                    <a th:href="@{/transfer?page=0}">«</a>
                    <th:block th:each="i: ${#numbers.sequence(0, transferTotalPages - 1)}">
                        <a th:href="@{/transfer?page={p}(p=${i})}" th:text="${i + 1}"></a>
                    </th:block>
                    <a th:href="@{/transfer?page={tp}(tp=${transferTotalPages})}">»</a>
            </div>
        </div>
    </body>
</html>